# test/OMakefile

.PHONY: all clean test
OCAMLINCLUDES += ../src

USE_OCAMLFIND = true

# Build an OCaml program
FILES[] =
	testUtil
	option_spec
	extList_spec
	extStr_spec

OCAMLPACKS[] =
	oUnit

PROGRAM = a.out
OCAML_LIBS += ../src/target
# OCAML_CLIBS +=
# OCAML_OTHER_LIBS +=
# OCAML_LIB_FLAGS +=
#
.DEFAULT: all

all: $(OCamlProgram $(PROGRAM), $(FILES))


clean:
	find . -name "*.cm[ioxat]*" -o -name "*.out" -o -name "*.opt" -o -name "*.[ao]" \
	| xargs $(RM)

test: all
	./$(PROGRAM)
